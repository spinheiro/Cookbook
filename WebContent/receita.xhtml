<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<style type="text/css">
		body{
			background-color: #d3d3d3;
		}
	</style>
</h:head>
<h:body>
		<h:form>
			<h:panelGrid columns="4" style="height:120px; width:100%; background-color:navy;">  
				<h:outputLabel value="COOKBOOK" style="display: inline-table;text-align:right !important;color:white;width:98%;font-size:70px !important"/>
				<h:panelGroup style="display: inline-table;text-align:left !important;color:white;width:100%;">
					<h:outputLabel value="Pesquisar Reseita" for="pesquisar" style="display: inline-table;text-align:left !important;color:white;width:80%;"/>
					<h:panelGroup>
						<h:inputText value="#{receitaBean.pesquisa}" id="pesquisar"/>
					</h:panelGroup>
					<h:commandButton value="Buscar" action="#{receitaBean.pesquisar}" style="height: 28px; width: 76px; " />
				</h:panelGroup>
					
           	</h:panelGrid>
        </h:form>	
        
		<h:panelGrid columns="2" style="margin-left: auto; margin-right: auto;align:center; text-align:left !important; background-color:#d3d3d3;">
			<h:panelGroup style=" width: 500px;display: inline-table;">
				<h:outputLabel value="#{comentarioBean.receita.titulo}" style="display: inline-table;text-align:left !important;width:50%;font-size:30px !important"/><br/> 
				<h:outputText value="#{comentarioBean.receita.textoReceita}" style="display: inline-table;text-align:left !important;width:600px;font-size:15px !important"/>
			</h:panelGroup>  
			<h:panelGroup>
				<h:graphicImage value="image/#{comentarioBean.receita.imagem}" style="height:150px; width:150px;"/>
			</h:panelGroup>  
		</h:panelGrid>
		
		<h:form>
		  	<f:metadata>
        		<f:viewParam name="receitaId" value="#{comentarioBean.receitaId}"/>
        		<f:viewParam name="usuarioId" value="#{comentarioBean.usuarioId}"/>
        		<f:viewParam name="usuarioId" value="#{receitaBean.usuarioId}"/>
        		<f:viewParam name="pesquisa" value="#{receitaBean.pesquisa}"/>
    		</f:metadata>
		
			<h:panelGrid columns="2" style="margin-left: auto; margin-right: auto;align:center; width: 600px; background-color:#d3d3d3;">
			    <h:panelGroup columns="1">
			    	<h:outputLabel value="Comentário:" for="comentario" />
					<h:inputTextarea value="#{comentarioBean.textoComentario}" id="comentario" required="true" style="width: 500px; height:100px"/>
				</h:panelGroup>

				<h:panelGroup columns="1">
					<h:outputLabel value="Nota:" for="nota"/>
					<h:selectOneMenu value="#{comentarioBean.nota}" style="width: 150px">
		    			<f:selectItems value="#{comentarioBean.notas}"/>	
		    		</h:selectOneMenu><br/><br/>
					<h:commandButton value="Postar Comentário" action="#{comentarioBean.postar}" style="height:30px; width:150px; horizontal-align:left;"/>
		    	</h:panelGroup>
          	</h:panelGrid><br/><br/><br/>		
      </h:form>	
		
		<c:if test="${not empty comentarioBean.comentariosReceita}" >
			<h:panelGrid columns="1" style="margin-left: auto; margin-right:auto; align:center; width:100%; background-color:#000000;">
				<c:forEach var="comentarioReceita" items="#{comentarioBean.comentariosReceita}">
					<h:panelGroup style="margin-top:1% !important;margin-left: 25% !important; margin-right:auto;align:center !important; width: 700px;display: inline-table; background-color:#9e9e9e;">
						<h:outputLabel value="#{comentarioReceita.usuario.nome}" style="display: inline-table;text-align:left !important;color:white;font-size:30px !important"/>
						<h:outputText value=" / Nota: #{comentarioReceita.nota}" style="display: inline-table;text-align:left !important;color:white;font-size:20px !important"/><br/>
						<h:outputText value="#{comentarioReceita.textoComentario}" style="display: inline-table;text-align:left !important;color:white;font-size:15px !important"/><br/>
					</h:panelGroup>  
				</c:forEach>
			</h:panelGrid>
		</c:if>
	</h:body>
</html>